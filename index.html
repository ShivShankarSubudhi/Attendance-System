<html  ng-app="attendance">
<head>
<title> Attendance System</title>
</head>
<body>
  <div class="col-xs-8 cb-contact-content" ng-controller="FormController">
    	<div class="hide_catpcha_error alert alert-success" id="attendance_success">The Attendance updated successfully</div>
      <div class="hide_catpcha_error alert alert-danger" id="attendance_error">The Attendance couldn't be updated</div>
		<div  id = "form-part">
      <div class="hide_catpcha_error cb-error-msg cb-advertise-msg" id="login_form" >Invalid username or password.</div>
			<form name="registerform"  id="cb-css-form" novalidate  method="post">
          <button type="button" class="btn btn-primary btn-md" id="loginBtn">Login</button>
          <button type="button" class="btn btn-primary btn-md" id="registerBtn">register</button>
        <div id="register" class="hide_catpcha_error">
            <h3 style="padding-left:193px;"> Registration Form</h3>
            <div class="col-xs-8 form-group cb-form-group">
  					<label for="Name" class="text-black text-normal">Name</label>
  					<input type="name" ng-model="user.name" name="uName" class="form-control" id="cb-contact-name" placeholder="Name" required></input>
  					<div ng-show="registerform.$submitted || registerform.uName.$touched">
  						<div ng-show="registerform.uName.$error.required" class="text-red">Name is required.</div>
  					</div>
  				</div>

  				<div class="col-xs-8 form-group cb-form-group">
  						<label for="Email" class="text-black  text-normal">Email</label>
  					<input type="email" ng-model="user.email" name="uEmail" class="form-control" ng-pattern="/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/" id="cb-contact-mail" placeholder="Email" required>
  					<div ng-show="registerform.$submitted || registerform.uEmail.$touched">
  						<span ng-show="registerform.uEmail.$error.required" class="text-red">Email-Id is required.</span>
  						<span ng-show="registerform.uEmail.$error.email||registerform.uEmail.$error.pattern" class="text-red">This is not a valid Email-Id.</span>
  					</div>
  				</div>

  				<div class="col-xs-8 form-group cb-form-group">
  					<label for="Name" class="text-black text-normal">Username</label>
  					<input type="name" ng-model="user.username" name="uUsername" class="form-control"  placeholder="Username" required></input>
  					<div ng-show="registerform.$submitted || registerform.uUsername.$touched">
  						<div ng-show="registerform.uUsername.$error.required" class="text-red">Username is required.</div>
  					</div>
  				</div>
  				<div class="col-xs-8 form-group cb-form-group">
  						<label for="Password" class="text-black text-normal">Password</label>
  					<input type="password" ng-model="user.password" name="uPassword" class="form-control" ng-pattern="/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&]{8,}/" placeholder="Password" required>
  					<div ng-show="registerform.uPassword.$submitted || registerform.uPassword.$touched">
  						<span ng-show="registerform.uPassword.$error.required" class="text-red">Password is required.</span>
  						<span ng-show="registerform.uPassword.$error.password||registerform.uPassword.$error.pattern" class="text-red">This is not a valid Password.</span>
  					</div>
  				</div>
          <div class="col-xs-8 form-group cb-form-group">
            <label for="UserType" class="text-black text-normal">Usertype</label>
            <div class="checkbox">
                <label class="col-xs-6"><input type="radio"  name ="uUserType" value="teacher" ng-model="user.userType">Teacher</label>
                <label class="col-xs-6"><input type="radio" name ="uUserType"  value="student" ng-model="user.userType">Student</label>
            </div>
          </div>
          <div class="col-xs-8 form-group cb-form-group" ng-show="user.userType == 'teacher'">
            <label for="Subjects" class="text-black text-normal">Subjects</label>
              <div class="checkbox">
                  <label class="col-xs-6"><input type="radio" name ="uSubject" value ="math" ng-model="user.subject">Math</label>
                  <label class="col-xs-6"><input type="radio" name ="uSubject" value ="science" ng-model="user.subject">Science</label>
              </div>

              <div class="checkbox">
                  <label class="col-xs-6"><input type="radio" name ="uSubject" value ="sst" ng-model="user.subject">SST</label>
                  <label class="col-xs-6"><input type="radio" name ="uSubject" value ="english" ng-model="user.subject">English</label>
              </div>

              <div class="checkbox disabled">
                  <label class="col-xs-6"><input type="radio" name ="uSubject" value ="hindi" ng-model="user.subject">Hindi</label>
              </div>
          </div>

          <div class="col-xs-8 form-group cb-form-group" ng-show="user.userType == 'student'">
            <label for="Subjects" class="text-black text-normal">Subjects</label>
              <div class="checkbox">
                  <label class="col-xs-6"><input type="checkbox" id="uMath" ng-model="user.math">Math</label>
                  <label class="col-xs-6"><input type="checkbox"  id="uScience"  ng-model="user.science">Science</label>
              </div>

              <div class="checkbox">
                  <label class="col-xs-6"><input type="checkbox"  id="uSst"  ng-model="user.sst">SST</label>
                  <label class="col-xs-6"><input type="checkbox" id="uEnglish" ng-model="user.english">English</label>
              </div>

              <div class="checkbox disabled">
                  <label class="col-xs-6"><input type="checkbox" id="uHindi" ng-model="user.hindi">Hindi</label>
              </div>
          </div>
          <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 form-group cb-form-group">
            <button type="submit"  ng-click="update_user(user)" ng-disabled="registerform.$invalid" class="btn btn-success btn-submit">Submit</button>
          </div>
        </div>
      </form>
        <div id="login" class="show_catpcha_error">
        <form name="loginform"  id="cb-css-form" novalidate  method="post">
          <h3 style="padding-left:193px;"> Login Form</h3>
			    <div class="hide_catpcha_error cb-error-msg cb-advertise-msg" id="error_form" >There are errors in the submitted form.</div>
  				<div class="col-xs-8 form-group cb-form-group">
  					<label for="Name" class="text-black text-normal">Username</label>
  					<input type="name" ng-model="user.username" name="uUsername" class="form-control"  placeholder="Username" required></input>
  					<div ng-show="loginform.$submitted || loginform.uUsername.$touched">
  						<div ng-show="loginform.uUsername.$error.required" class="text-red">Username is required.</div>
  					</div>
  				</div>
  				<div class="col-xs-8 form-group cb-form-group">
  						<label for="Password" class="text-black text-normal">Password</label>
  					<input type="password" ng-model="user.password" name="uPassword" class="form-control" ng-pattern="/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&]{8,}/" placeholder="Password" required>
  					<div ng-show="loginform.uPassword.$submitted || loginform.uPassword.$touched">
  						<span ng-show="loginform.uPassword.$error.required" class="text-red">Password is required.</span>
  						<span ng-show="loginform.uPassword.$error.password||loginform.uPassword.$error.pattern" class="text-red">This is not a valid Password.</span>
  					</div>
  				</div>
          <div class="col-xs-8 form-group cb-form-group">
            <label for="UserType" class="text-black text-normal">Usertype</label>
            <div class="checkbox">
                <label class="col-xs-6"><input type="radio"  name ="uUserType" value="teacher" ng-model="user.userType">Teacher</label>
                <label class="col-xs-6"><input type="radio" name ="uUserType"  value="student" ng-model="user.userType">Student</label>
            </div>
          </div>
          <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 form-group cb-form-group">
            <button type="submit"  ng-click="login_user(user)" ng-disabled="loginform.$invalid" class="btn btn-success btn-submit">Submit</button>
          </div>
        </div>
			</form>
		</div>

  <div id="stud_attendance" class="col-xs-offset-4 col-xs-6 hide_catpcha_error">
      <table>
        <tr>
            <th>Name</th>
            <th ng-show = "student_data.subject['Math'] >= 0">Math</th>
            <th ng-show = "student_data.subject['Science'] >= 0">Science</th>
            <th ng-show = "student_data.subject['Sst'] >= 0">SST</th>
            <th ng-show = "student_data.subject['English'] >= 0">English</th>
            <th ng-show = "student_data.subject['Hindi'] >= 0">Hindi</th>
        </tr>
        <tr>
            <td ng-bind = "student_data.name"></td>
            <td ng-show = "student_data.subject['Math'] >= 0"><span ng-bind="student_data.subject['Math']"></span></td>
            <td ng-show = "student_data.subject['Science'] >= 0"><span ng-bind="student_data.subject['Science']"></span></td>
            <td ng-show = "student_data.subject['Sst'] >= 0"><span ng-bind="student_data.subject['Sst']"></span></th>
            <td ng-show = "student_data.subject['English'] >= 0"><span ng-bind="student_data.subject['English']"></span></th>
            <td ng-show = "student_data.subject['Hindi'] >= 0"><span ng-bind="student_data.subject['Hindi']"></span></td>
        </tr>
      </table>
  </div>
  <div id="teacher_attendance" class="col-xs-offset-4 col-xs-6 hide_catpcha_error">
    	<form name="teacher_form"  id="cb-css-form" novalidate  method="post">
          <label ng-repeat ="student in teacher_data.student_array" class="col-xs-6">
            <input  type="checkbox" checklist-model="selected_stud.students" checklist-value="student"><span ng-bind = "student"></span>
          </label>
          <button type="submit"  ng-click="enter_attendance(student)" class="btn btn-success btn-submit">Submit</button>
      </form>
  </div>
  <a href="index.html"><button class="btn btn-success btn-submit hide_catpcha_error" id="logout_btn">Logout</button></a>
	</div>
<script src='js/jquery.js'></script>
<script src='js/angular.min.js'></script>
<script src='js/bootstrap.min.js'></script>
<script src='js/app.js'></script>
<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="css/styles.css" rel="stylesheet" type="text/css" />
<script>
$(document).ready(function(){
    $("#registerBtn").click(function(){
          $("#register").show();
          $("#login").hide();
    });

    $("#loginBtn").click(function(){
          $("#register").hide();
          $("#login").show();
    });
});

</script>
</body>
</html>
